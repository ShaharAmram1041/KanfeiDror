{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shaha\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\Project\\\\KanfeiDror\\\\src\\\\components\\\\Reports_Table_Component\\\\ReportsTableCom.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useEffect, useState } from \"react\";\nimport { db } from \"../../firebase_setup/firebase\";\nimport { Link } from \"react-router-dom\";\nimport { getAuth } from \"firebase/auth\";\nimport { collection, getDocs, updateDoc, doc, getDoc, deleteDoc, query, where } from \"firebase/firestore\";\nimport { EmailForm } from \"../Email_Cpomponent/EmailForm\";\nimport MaterialReactTable from \"material-react-table\";\nimport { Box, IconButton, Button, Typography, Tooltip } from \"@mui/material\";\nimport { Edit as EditIcon, Delete as DeleteIcon, Email as EmailIcon } from \"@mui/icons-material\";\nimport FileDownloadIcon from \"@mui/icons-material/FileDownload\";\nimport { ExportToCsv } from \"export-to-csv\"; //or use your library of choice here\n// import DataGraphs from \"../DataGraphs/DataGraps\";\nimport \"./ReportsTableCom.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReportsTableCom = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [showEmailForm, setShowEmailForm] = useState(false);\n  const [city, setCity] = useState(\"\");\n  const [showExport, setShowExport] = useState(false);\n  const [userAccess, setUserAccess] = useState(null);\n  useEffect(() => {\n    data.length > 0 ? setShowExport(true) : setShowExport(false);\n  }, [data]);\n  const columns = useMemo(() => [{\n    accessorKey: \"uuid\",\n    header: \"מזהה ייחודי\",\n    enableSorting: false,\n    //disable sorting on this column\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"name\",\n    header: \"שם\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"city\",\n    header: \"עיר\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"date\",\n    header: \"תאריך\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"email\",\n    header: \"אימייל\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"place\",\n    header: \"מקום האירוע\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"status\",\n    header: \"סטטוס\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    }\n  }, {\n    accessorKey: \"urgency\",\n    header: \"דחיפות\",\n    align: \"right\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    }\n  }, {\n    accessorKey: \"message\",\n    header: \"תיאור המקרה\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"schoolName\",\n    header: \"שם בית הספר\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"Class\",\n    header: \"כיתה\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"youthName\",\n    header: \"שם תנועת נוער\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"otherPlace\",\n    header: \"מקום אחר\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"reportDate\",\n    header: \"תאריך שליחת הדיווח\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: false //disable editing on this column\n  }, {\n    accessorKey: \"treatment\",\n    header: \"הערות של העמותה\",\n    muiTableHeadCellProps: {\n      align: \"right\"\n    },\n    muiTableBodyCellProps: {\n      align: \"right\"\n    },\n    enableEditing: true //disable editing on this column\n  }], []);\n  const csvOptions = {\n    fieldSeparator: \",\",\n    quoteStrings: '\"',\n    decimalSeparator: \".\",\n    showLabels: true,\n    useBom: true,\n    useKeysAsHeaders: false,\n    headers: columns.map(c => c.header)\n  };\n  const handleExportRows = rows => {\n    const csvExporter = new ExportToCsv(csvOptions);\n    csvExporter.generateCsv(rows.map(item => [item.original.uuid, item.original.name, item.original.city, item.original.date, item.original.email, item.original.place, item.original.status, item.original.urgency, item.original.message]));\n  };\n  const handleExportData = () => {\n    const csvExporter = new ExportToCsv(csvOptions);\n    csvExporter.generateCsv(data.map(item => [item.uuid, item.name, item.city, item.date, item.email, item.place, item.status, item.urgency, item.message]));\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"Reports\"));\n        const newData = querySnapshot.docs.map(doc => ({\n          ...doc.data()\n        }));\n        setData(newData);\n      } catch (error) {\n        console.error(\"Error fetching data from Firestore: \", error);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleDelete = async id => {\n    const confirmed = window.confirm(\"Are you sure you want to delete this report?\");\n    if (confirmed) {\n      try {\n        const reportCollectionRef = collection(db, \"Reports\");\n        const querySnapshot = await getDocs(query(reportCollectionRef, where(\"uuid\", \"==\", id)));\n        if (!querySnapshot.empty) {\n          let documentId = null;\n          querySnapshot.forEach(docSnapshot => {\n            documentId = docSnapshot.id;\n          });\n          if (documentId !== null) {\n            const reportDocRef = doc(db, \"Reports\", documentId);\n            await deleteDoc(reportDocRef);\n            setData(prevData => prevData.filter(item => item.uuid !== id));\n          }\n        }\n      } catch (error) {\n        console.error(\"Error deleting report: \", error);\n      }\n    }\n  };\n  const handleSaveRow = async _ref => {\n    let {\n      exitEditingMode,\n      row,\n      values\n    } = _ref;\n    try {\n      const reportCollectionRef = collection(db, \"Reports\");\n      const querySnapshot = await getDocs(query(reportCollectionRef));\n      if (querySnapshot.size > 0) {\n        const docSnapshot = querySnapshot.docs[row.index];\n        const reportDocRef = doc(db, \"Reports\", docSnapshot.id);\n        await updateDoc(reportDocRef, values);\n        setData(prevData => {\n          const updatedData = [...prevData];\n          updatedData[row.index] = values;\n          return updatedData;\n        });\n      }\n    } catch (error) {\n      console.error(\"Error saving report: \", error);\n    }\n    exitEditingMode(); // required to exit editing mode\n  };\n\n  const emailClick = row => {\n    setCity(row.original.city);\n    setShowEmailForm(!showEmailForm);\n  };\n  useEffect(() => {\n    const fetchUserAccess = async () => {\n      try {\n        const auth = getAuth();\n        const user = auth.currentUser;\n        if (user) {\n          const email = user.email;\n          const adminUserDocRef = doc(db, \"AdminUsers\", email);\n          const adminUserDocSnapshot = await getDoc(adminUserDocRef);\n          if (adminUserDocSnapshot.exists()) {\n            setUserAccess(\"Admin\");\n          } else {\n            setUserAccess(\"Regular\");\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching user access: \", error);\n      }\n    };\n    fetchUserAccess();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MaterialReactTable, {\n      columns: columns,\n      data: data,\n      mantineCopyButtonProps: {\n        sx: {\n          width: \"100%\"\n        }\n      },\n      muiTableBodyCellProps: {\n        sx: {\n          borderRight: \"0.5px solid #e0e0e0\" //add a border between columns\n        }\n      },\n\n      muiTablePaperProps: {\n        elevation: 0,\n        sx: {\n          borderRadius: \"0\",\n          border: \"1px dashed #e0e0e0\"\n        }\n      },\n      muiTableHeadCellProps: {\n        //no useTheme hook needed, just use the `sx` prop with the theme callback\n        sx: theme => ({\n          color: theme.palette.text.secondary\n        })\n      },\n      enableRowActions: true,\n      editingMode: \"modal\",\n      enableEditing: true,\n      enableRowSelection: true,\n      positionToolbarAlertBanner: \"bottom\",\n      onEditingRowSave: handleSaveRow,\n      enableGrouping: true,\n      initialState: {\n        columnVisibility: {\n          city: false,\n          message: false,\n          place: false,\n          email: false,\n          date: false,\n          schoolName: false,\n          Class: false,\n          youthName: false,\n          otherPlace: false\n        }\n      },\n      renderRowActions: _ref2 => {\n        let {\n          row,\n          table\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            flexWrap: \"nowrap\",\n            gap: \"5px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"\\u05E9\\u05DC\\u05D7 \\u05DE\\u05D9\\u05D9\\u05DC\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"primary\",\n              onClick: () => emailClick(row),\n              children: /*#__PURE__*/_jsxDEV(EmailIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"\\u05E2\\u05E8\\u05D9\\u05DB\\u05D4\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"secondary\",\n              onClick: () => table.setEditingRow(row),\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: userAccess === \"Admin\" ? \"מחיקה\" : \"אין לך הרשאה לגשת לכאן\",\n            placement: \"top\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"error\",\n                disabled: userAccess !== \"Admin\",\n                onClick: () => handleDelete(row.original.id),\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this);\n      },\n      renderTopToolbarCustomActions: _ref3 => {\n        let {\n          table\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            gap: \"1rem\",\n            p: \"0.5rem\",\n            flexWrap: \"wrap\"\n          },\n          children: showExport ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\"\n              //export all data that is currently in the table (ignore pagination, sorting, filtering, etc.)\n              ,\n              onClick: handleExportData,\n              startIcon: /*#__PURE__*/_jsxDEV(FileDownloadIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 30\n              }, this),\n              variant: \"contained\",\n              children: \"\\u05D9\\u05D9\\u05E6\\u05D0 \\u05D0\\u05EA \\u05DB\\u05DC \\u05D4\\u05D8\\u05D1\\u05DC\\u05D4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              disabled: !table.getIsSomeRowsSelected() && !table.getIsAllRowsSelected()\n              //only export selected rows\n              ,\n              onClick: () => handleExportRows(table.getSelectedRowModel().rows),\n              startIcon: /*#__PURE__*/_jsxDEV(FileDownloadIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 30\n              }, this),\n              variant: \"contained\",\n              children: \"\\u05D9\\u05D9\\u05E6\\u05D0 \\u05E9\\u05D5\\u05E8\\u05D5\\u05EA \\u05E0\\u05D1\\u05D7\\u05E8\\u05D5\\u05EA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this);\n      },\n      renderDetailPanel: _ref4 => {\n        let {\n          row\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"grid\",\n            margin: \"auto\",\n            gridTemplateColumns: \"1fr 1fr\",\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              textAlign: \"right\"\n            },\n            children: row.original.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), showEmailForm && /*#__PURE__*/_jsxDEV(EmailForm, {\n      c: city\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/DataGraphs\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"graphs\",\n        children: \"\\u05D3\\u05D5\\\"\\u05D7 \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ReportsTableCom, \"qEs7Bb1V570/hj/R6Xov6Y7WckY=\");\n_c = ReportsTableCom;\nexport default ReportsTableCom;\nvar _c;\n$RefreshReg$(_c, \"ReportsTableCom\");","map":{"version":3,"names":["React","useMemo","useEffect","useState","db","Link","getAuth","collection","getDocs","updateDoc","doc","getDoc","deleteDoc","query","where","EmailForm","MaterialReactTable","Box","IconButton","Button","Typography","Tooltip","Edit","EditIcon","Delete","DeleteIcon","Email","EmailIcon","FileDownloadIcon","ExportToCsv","jsxDEV","_jsxDEV","Fragment","_Fragment","ReportsTableCom","_s","data","setData","showEmailForm","setShowEmailForm","city","setCity","showExport","setShowExport","userAccess","setUserAccess","length","columns","accessorKey","header","enableSorting","align","muiTableHeadCellProps","muiTableBodyCellProps","enableEditing","csvOptions","fieldSeparator","quoteStrings","decimalSeparator","showLabels","useBom","useKeysAsHeaders","headers","map","c","handleExportRows","rows","csvExporter","generateCsv","item","original","uuid","name","date","email","place","status","urgency","message","handleExportData","fetchData","querySnapshot","newData","docs","error","console","handleDelete","id","confirmed","window","confirm","reportCollectionRef","empty","documentId","forEach","docSnapshot","reportDocRef","prevData","filter","handleSaveRow","_ref","exitEditingMode","row","values","size","index","updatedData","emailClick","fetchUserAccess","auth","user","currentUser","adminUserDocRef","adminUserDocSnapshot","exists","children","mantineCopyButtonProps","sx","width","borderRight","muiTablePaperProps","elevation","borderRadius","border","theme","color","palette","text","secondary","enableRowActions","editingMode","enableRowSelection","positionToolbarAlertBanner","onEditingRowSave","enableGrouping","initialState","columnVisibility","schoolName","Class","youthName","otherPlace","renderRowActions","_ref2","table","display","flexWrap","gap","title","onClick","fileName","_jsxFileName","lineNumber","columnNumber","setEditingRow","placement","disabled","renderTopToolbarCustomActions","_ref3","p","startIcon","variant","getIsSomeRowsSelected","getIsAllRowsSelected","getSelectedRowModel","renderDetailPanel","_ref4","margin","gridTemplateColumns","textAlign","to","className","_c","$RefreshReg$"],"sources":["C:/Users/shaha/OneDrive/שולחן העבודה/Project/KanfeiDror/src/components/Reports_Table_Component/ReportsTableCom.js"],"sourcesContent":["import React, { useMemo, useEffect, useState } from \"react\";\nimport { db } from \"../../firebase_setup/firebase\";\nimport { Link } from \"react-router-dom\";\nimport { getAuth } from \"firebase/auth\";\nimport {\n  collection,\n  getDocs,\n  updateDoc,\n  doc,\n  getDoc,\n  deleteDoc,query,where,\n} from \"firebase/firestore\";\nimport { EmailForm } from \"../Email_Cpomponent/EmailForm\";\nimport MaterialReactTable from \"material-react-table\";\nimport { Box, IconButton, Button, Typography, Tooltip } from \"@mui/material\";\nimport {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Email as EmailIcon,\n} from \"@mui/icons-material\";\nimport FileDownloadIcon from \"@mui/icons-material/FileDownload\";\nimport { ExportToCsv } from \"export-to-csv\"; //or use your library of choice here\n// import DataGraphs from \"../DataGraphs/DataGraps\";\nimport \"./ReportsTableCom.css\";\n\nconst ReportsTableCom = () => {\n  const [data, setData] = useState([]);\n  const [showEmailForm, setShowEmailForm] = useState(false);\n  const [city, setCity] = useState(\"\");\n  const [showExport, setShowExport] = useState(false);\n  const [userAccess, setUserAccess] = useState(null);\n\n  useEffect(() => {\n    data.length > 0 ? setShowExport(true) : setShowExport(false);\n  }, [data]);\n  const columns = useMemo(\n    () => [\n      {\n        accessorKey: \"uuid\",\n        header: \"מזהה ייחודי\",\n        enableSorting: false, //disable sorting on this column\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"name\",\n        header: \"שם\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"city\",\n        header: \"עיר\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"date\",\n        header: \"תאריך\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"email\",\n        header: \"אימייל\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"place\",\n        header: \"מקום האירוע\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"status\",\n        header: \"סטטוס\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n      },\n      {\n        accessorKey: \"urgency\",\n        header: \"דחיפות\",\n        align: \"right\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n      },\n      {\n        accessorKey: \"message\",\n        header: \"תיאור המקרה\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"schoolName\",\n        header: \"שם בית הספר\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"Class\",\n        header: \"כיתה\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"youthName\",\n        header: \"שם תנועת נוער\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"otherPlace\",\n        header: \"מקום אחר\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"reportDate\",\n        header: \"תאריך שליחת הדיווח\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: false, //disable editing on this column\n      },\n      {\n        accessorKey: \"treatment\",\n        header: \"הערות של העמותה\",\n        muiTableHeadCellProps: {\n          align: \"right\",\n        },\n        muiTableBodyCellProps: {\n          align: \"right\",\n        },\n        enableEditing: true, //disable editing on this column\n      },\n    ],\n    []\n  );\n\n  const csvOptions = {\n    fieldSeparator: \",\",\n    quoteStrings: '\"',\n    decimalSeparator: \".\",\n    showLabels: true,\n    useBom: true,\n    useKeysAsHeaders: false,\n    headers: columns.map((c) => c.header),\n  };\n\n  const handleExportRows = (rows) => {\n    const csvExporter = new ExportToCsv(csvOptions);\n    csvExporter.generateCsv(\n      rows.map((item) => [\n        item.original.uuid,\n        item.original.name,\n        item.original.city,\n        item.original.date,\n        item.original.email,\n        item.original.place,\n        item.original.status,\n        item.original.urgency,\n        item.original.message,\n      ])\n    );\n  };\n\n  const handleExportData = () => {\n\n    const csvExporter = new ExportToCsv(csvOptions);\n    csvExporter.generateCsv(\n      data.map((item) => [\n        item.uuid,\n        item.name,\n        item.city,\n        item.date,\n        item.email,\n        item.place,\n        item.status,\n        item.urgency,\n        item.message,\n      ])\n    );\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const querySnapshot = await getDocs(collection(db, \"Reports\"));\n        const newData = querySnapshot.docs.map((doc) => ({\n          ...doc.data(),\n        }));\n        setData(newData);\n      } catch (error) {\n        console.error(\"Error fetching data from Firestore: \", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleDelete = async (id) => {\n    const confirmed = window.confirm(\"Are you sure you want to delete this report?\");\n    if (confirmed) {\n      try {\n        const reportCollectionRef = collection(db, \"Reports\");\n        const querySnapshot = await getDocs(query(reportCollectionRef, where(\"uuid\", \"==\", id)));\n        \n        if (!querySnapshot.empty) {\n          let documentId = null;\n          querySnapshot.forEach((docSnapshot) => {\n            documentId = docSnapshot.id;\n          });\n          \n          if (documentId !== null) {\n            const reportDocRef = doc(db, \"Reports\", documentId);\n            await deleteDoc(reportDocRef);\n            \n            setData((prevData) => prevData.filter((item) => item.uuid !== id));\n          }\n        }\n      } catch (error) {\n        console.error(\"Error deleting report: \", error);\n      }\n    }\n  };\n\n  const handleSaveRow = async ({ exitEditingMode, row, values }) => {\n    try {\n      const reportCollectionRef = collection(db, \"Reports\");\n      const querySnapshot = await getDocs(query(reportCollectionRef));\n\n      if (querySnapshot.size > 0) {\n          const docSnapshot = querySnapshot.docs[row.index];\n          const reportDocRef = doc(db, \"Reports\", docSnapshot.id);\n          await updateDoc(reportDocRef, values);\n          setData((prevData) => {\n            const updatedData = [...prevData];\n            updatedData[row.index] = values;\n            return updatedData;\n          });\n      } \n    } catch (error) {\n      console.error(\"Error saving report: \", error);\n    }\n    exitEditingMode(); // required to exit editing mode\n  };\n\n  const emailClick = (row) => {\n    setCity(row.original.city);\n    setShowEmailForm(!showEmailForm);\n  };\n\n  useEffect(() => {\n    const fetchUserAccess = async () => {\n      try {\n        const auth = getAuth();\n        const user = auth.currentUser;\n        if (user) {\n          const email = user.email;\n          const adminUserDocRef = doc(db, \"AdminUsers\", email);\n          const adminUserDocSnapshot = await getDoc(adminUserDocRef);\n          if (adminUserDocSnapshot.exists()) {\n            setUserAccess(\"Admin\");\n          } else {\n            setUserAccess(\"Regular\");\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching user access: \", error);\n      }\n    };\n  \n    fetchUserAccess();\n  }, []);\n\n  return (\n    <>\n      <MaterialReactTable\n        columns={columns}\n        data={data}\n        mantineCopyButtonProps={{\n          sx: { width: \"100%\" },\n        }}\n        muiTableBodyCellProps={{\n          sx: {\n            borderRight: \"0.5px solid #e0e0e0\", //add a border between columns\n          },\n        }}\n        muiTablePaperProps={{\n          elevation: 0,\n          sx: {\n            borderRadius: \"0\",\n            border: \"1px dashed #e0e0e0\",\n          },\n        }}\n        muiTableHeadCellProps={{\n          //no useTheme hook needed, just use the `sx` prop with the theme callback\n          sx: (theme) => ({\n            color: theme.palette.text.secondary,\n          }),\n        }}\n        enableRowActions\n        editingMode=\"modal\"\n        enableEditing={true}\n        enableRowSelection\n        positionToolbarAlertBanner=\"bottom\"\n        onEditingRowSave={handleSaveRow}\n        enableGrouping\n        initialState={{\n          columnVisibility: {\n            city: false,\n            message: false,\n            place: false,\n            email: false,\n            date: false,\n            schoolName: false,\n            Class: false,\n            youthName: false,\n            otherPlace: false\n          },\n        }}\n        renderRowActions={({ row, table }) => (\n          <Box sx={{ display: \"flex\", flexWrap: \"nowrap\", gap: \"5px\" }}>\n            <Tooltip title=\"שלח מייל\">\n              <IconButton color=\"primary\" onClick={() => emailClick(row)}>\n                <EmailIcon />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"עריכה\">\n              <IconButton\n                color=\"secondary\"\n                onClick={() => table.setEditingRow(row)}\n              >\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip\n              title={\n                userAccess === \"Admin\"\n                  ? \"מחיקה\"\n                  : \"אין לך הרשאה לגשת לכאן\"\n              }\n              placement=\"top\"\n            >\n              <span>\n                <IconButton\n                  color=\"error\"\n                  disabled={userAccess !== \"Admin\"}\n                  onClick={() => handleDelete(row.original.id)}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </span>\n            </Tooltip>\n          </Box>\n        )}\n        renderTopToolbarCustomActions={({ table }) => (\n          <Box\n            sx={{ display: \"flex\", gap: \"1rem\", p: \"0.5rem\", flexWrap: \"wrap\" }}\n          >\n            {showExport ? (\n              <>\n                <Button\n                  color=\"primary\"\n                  //export all data that is currently in the table (ignore pagination, sorting, filtering, etc.)\n                  onClick={handleExportData}\n                  startIcon={<FileDownloadIcon />}\n                  variant=\"contained\"\n                >\n                  ייצא את כל הטבלה\n                </Button>\n\n                <Button\n                  disabled={\n                    !table.getIsSomeRowsSelected() &&\n                    !table.getIsAllRowsSelected()\n                  }\n                  //only export selected rows\n                  onClick={() =>\n                    handleExportRows(table.getSelectedRowModel().rows)\n                  }\n                  startIcon={<FileDownloadIcon />}\n                  variant=\"contained\"\n                >\n                  ייצא שורות נבחרות\n                </Button>\n              </>\n            ) : null}\n          </Box>\n        )}\n        renderDetailPanel={({ row }) => (\n          <Box\n            sx={{\n              display: \"grid\",\n              margin: \"auto\",\n              gridTemplateColumns: \"1fr 1fr\",\n              width: \"100%\",\n            }}\n          >\n            <Typography sx={{ textAlign: \"right\" }}>\n              {row.original.message}\n            </Typography>\n          </Box>\n        )}\n      />\n\n      {showEmailForm && <EmailForm c={city} />}\n      <Link to=\"/DataGraphs\">\n        <button className=\"graphs\">דו\"ח נתונים</button>\n      </Link>\n    </>\n  );\n};\n\nexport default ReportsTableCom;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}